
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>KidneyWatch</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="KidneyWatch" />
	<meta name="keywords" content="KidneyWatch" />

	<link href='https://fonts.googleapis.com/css?family=Roboto:400,300,600,400italic,700' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
	
	<!-- Animate.css -->
	<link rel="stylesheet" th:href="@{/css/animate.css}">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" th:href="@{/css/icomoon.css}"> 
	<!-- Bootstrap  -->
	<link rel="stylesheet" th:href="@{/css/bootstrap.css}"> 
	<!-- Owl Carousel -->
	<link rel="stylesheet" th:href="@{/css/owl.carousel.min.css}"> 
	<link rel="stylesheet" th:href="@{/css/owl.theme.default.min.css}"> 
	<!-- Theme style  -->
	<link rel="stylesheet" th:href="@{/css/style.css}"> 

	<!-- Modernizr JS -->
	<script th:src="@{/js/modernizr-2.6.2.min.js}"></script>
	<!-- FOR IE9 below -->
	<!--[if lt IE 9]>
	<script th:src="@{/js/respond.min.js}"></script>
	<![endif]-->

	
	<!-- jQuery -->
	<script th:src="@{/js/jquery.min.js}"></script>
	<!-- jQuery Easing -->
	<script th:src="@{/js/jquery.easing.1.3.js}"></script>
	<!-- Bootstrap -->
	<script th:src="@{/js/bootstrap.min.js}"></script>
	<!-- Carousel -->
	<script th:src="@{/js/owl.carousel.min.js}"></script>
	<!-- Stellar -->
	<script th:src="@{/js/jquery.stellar.min.js}"></script>
	<!-- Waypoints -->
	<script th:src="@{/js/jquery.waypoints.min.js}"></script>
	<!-- Counters -->
	<script th:src="@{/js/jquery.countTo.js}"></script>	
	<!-- MAIN JS -->
	<script th:src="@{/js/main.js}"></script>


	<script th:src="@{/chart/Chart.bundle.js}"></script>
	<script th:src="@{/chart/utils.js}"></script>

	<script type="text/javascript">

		function displayPatients(category, trend) {
			window.location.href = "/focus?category=" + category + "&trend=" + trend; 
		}

	</script>

	<style>
		canvas{
			-moz-user-select: none;
			-webkit-user-select: none;
			-ms-user-select: none;
		}
	</style>

	<script th:inline="javascript">
	/*<![CDATA[*/

		var barChartData = {
			labels: ['MKCK', 'PD', 'HD', 'AHD'],
			datasets: [{
				label: 'Male',
				backgroundColor: '#BACCA9',
				// borderColor: window.chartColors.red,
				// borderWidth: 1,
				data: []
			}, {
				label: 'Female',
				backgroundColor: '#E89E8A',
				data: []
			}]

		};

		barChartData.datasets[0].data = /*[[${maleCategory}]]*/;
		barChartData.datasets[1].data = /*[[${femaleCategory}]]*/;

		var barChartData2 = {
			labels: ['0', '1', '2', '3', '4', '5', '6', '7', '8'],
			datasets: [{
				label: 'Number of Patients',
				backgroundColor: '#B7D3F2',
				// borderColor: window.chartColors.red,
				// borderWidth: 1,
				data: []
			}]

		};
		barChartData2.datasets[0].data = /*[[${scoreDis}]]*/;

		var barChartData3 = {
			labels: ['Stage 1', 'Stage 2', 'Stage 3A', 'Stage 3B', 'Stage 4', 'Stage 5'],
			datasets: [{
				label: 'Number of Patients',
				backgroundColor: '#E89FA3',
				// borderColor: window.chartColors.red,
				// borderWidth: 1,
				data: []
			}]

		};
		barChartData3.datasets[0].data = /*[[${stage}]]*/;

		window.onload = function() {
			var ctx = document.getElementById('canvas-dist').getContext('2d');
			window.myBar = new Chart(ctx, {
				type: 'bar',
				data: barChartData,
				options: {
					title: {
						display: true,
						text: 'General Distribution of Patients'
					},
					tooltips: {
						mode: 'index',
						intersect: false
					},
					responsive: true,
					scales: {
						xAxes: [{
							stacked: true,
							barThickness : 65,
						}],
						yAxes: [{
							stacked: true
						}]
					}
				}
			});

			var ctx2 = document.getElementById('canvas-dist2').getContext('2d');
			window.myBar2 = new Chart(ctx2, {
				type: 'bar',
				data: barChartData2,
				options: {
					title: {
						display: true,
						text: 'Score Distribution of Patients'
					},
					tooltips: {
						mode: 'index',
						intersect: false
					},
					responsive: true,
					scales: {
						xAxes: [{
							// stacked: true,
							barThickness : 65,
						}],
						yAxes: [{
							// stacked: true
						}]
					}
				}
			});

			var ctx3 = document.getElementById('canvas-dist3').getContext('2d');
			window.myBar3 = new Chart(ctx3, {
				type: 'bar',
				data: barChartData3,
				options: {
					title: {
						display: true,
						text: 'Stage Distribution of Patients'
					},
					tooltips: {
						mode: 'index',
						intersect: false
					},
					responsive: true,
					scales: {
						xAxes: [{
							// stacked: true,
							barThickness : 65,
						}],
						yAxes: [{
							// stacked: true
						}]
					}
				}
			});
		};	

	/*]]>*/
	</script>

	</head>

	<body>
	<div id="fh5co-page">
		<a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
		<aside id="fh5co-aside" role="complementary" class="border js-fullheight">

			<h1 id="fh5co-logo"><a href="/home"><img src="images/logo.jpg" alt="KidneyWatch" style="width:100px;height:100px;"></a></h1>
			<nav id="fh5co-main-menu" role="navigation">
				<ul>
					<li class="fh5co-active"><a href="/home">Home</a></li>
					<br>
					<li><a href="/search">Search</a></li>
					<li><a href="/mkck">MKCK</a></li>
					<li><a href="/pd">PD</a></li>
					<li><a href="/hd">HD</a></li>
					<li><a href="/ahd">AHD</a></li>

					<li><a href="/patients">Test</a></li>
					<li><a href="/labTest">Test</a></li>
				</ul>
			</nav>
		</aside>

		<div id="fh5co-main">

			<div class="fh5co-narrow-content">
				<div class="row">
					<h2 class="fh5co-heading animate-box" data-animate-effect="fadeInLeft">Welcome to KidneyWatch</h2>
				</div>

				<div class="row animate-box" data-animate-effect="fadeInLeft">
					<div name="mkck intro" class="row">
						<li th:text="${total} + ' patients in total (Male: ' + ${male} + '; Female: ' + ${female} + ')'"/>
						<li th:text="${better} + ' patients are getting better'" onclick="displayPatients('all', 'better')"/>
						<li th:text="${worse} + ' patients are getting worse'" onclick="displayPatients('all', 'worse')"/>
					</div>
				</div>
			</div>

			<div name="mkck main table" id="individual-report" class="fh5co-narrow-chart fh5co-border-bottom row animate-box" data-animate-effect="fadeInLeft">
	  			<canvas id="canvas-dist"></canvas>
	  		</div>

	  		<div name="mkck main table" id="individual-report" class="fh5co-narrow-chart fh5co-border-bottom row animate-box" data-animate-effect="fadeInLeft">
	  			<canvas id="canvas-dist3"></canvas>
	  		</div>

	  		<div name="mkck main table" id="individual-report" class="fh5co-narrow-chart fh5co-border-bottom row animate-box" data-animate-effect="fadeInLeft">
	  			<canvas id="canvas-dist2"></canvas>
	  		</div>
		</div>
	</div>


	</body>
</html>

